# Missing values


```{r}
library(readr)
currentDir <- dirname(rstudioapi::getActiveDocumentContext()$path)
setwd(currentDir)
pbp_game_data <- read_csv("data/missing_pbp_data.csv")
source("missing_viz.R")
pbp_missing_plot <- missing_vis(pbp_game_data, percent=FALSE)
```

## Play-by-play missing data: 
```{r}
pbp_missing_plot
```

There are no fully complete cases in our play-by-play data set. While this appeared troublesome at first, further analysis of the data set showed that these missing values are fairly intuitive. Most notably, there are 3 types of descriptions for (home description , away description, neutral description) for every moment in a game. Intuitively, in each row,only 1 of these values will be populated in the data set, aside from some exceptions. After looking through the data set, there are 2 specific cases in which there are both home and away descriptions: steal and turnover and shot attempt and blocked shot. Therefore, as we can see in our visualization of missing data, the "Neutral Description" variable is by far the least populated, which makes sense since there are very few reported neutral events in a game (such as: end of quarter 1, start of quarter 4...). However, as explained by the nature of home/visitor description, it is logical why these variables are also sparsely populated, due to their relatively mutually exclusive nature. As we can see by the top 2 patterns of missing data, we can see a strong presence of 2 out of these 3 data points missing for a high number of observations. As a result, we will end up merging these 3 columns into a single “description” variable, which will simply describe the play and will not be organized by home/away/neutral. This merged column will not contain missing values. 

The only other notable pattern of missing data can be seen with the HOME_PCT and VISITOR_PCT columns, each respectively representing the home and visitor win probabilities. Win probability is a crucial aspect of our analysis, and in our data set, we noticed that no win probabilities for either team are reported past the 5 minute mark in the 4th quarter. It is for this reason that the "HOME_PCT" and "VISITOR_PCT" also contain the next largest count of missing data. Due to this, we will not consider any win probabilities past this point in the game. However, given that our main research question is to investigate the reasons for a game that ends in an upset, the 5 minute mark in the 4th quarter is a reasonable time of the game to consider as a cut off point. Therefore, it must be made clear that throughout our project, we are only able to identify games as 'chokes' when a team had a greater than 90% win probability, prior to entering the final 5 minutes of the game. Naturally, we have no issue with this restriction on our data set since the last minutes seconds of a game can perhaps be extremely volatile, or a team has already secured a large enough lead to make a comeback impossible. As a result, these observations would be naturally excluded since they likely skew our data. As a result, our chokes can be interpreted as instances when a team has a sizable lead at some point in the game prior to the final 5 minutes, and then subsequently loses. 


Other than these 2 important metrics, every other column is completely populated, since they contain data such as the time and points scored for each team, which can logically be reported at every instance of the game. 
