[["index.html", "NBA Chokes Chapter 1 Introduction", " NBA Chokes Elijah Flomen, Blake Hartung 2021-12-12 Chapter 1 Introduction Overall viewership of basketball in the United States has skyrocketed over the last few years, most notably rising 34% from last season. Perhaps a driving factor for its demand has to do with the notion that basketball is a sport that is well known for its thrilling endings. Unlike sports such as American football or baseball where it is possible for a single team to hold possession of the game for long periods of time, basketball is unique in that the gameflow is going through a constant start-and-stop pace, allowing for constant and rapid changes of possession. As a result of basketball’s inherent back-and-forth nature, it is not uncommon for a team to, at some point in the game, have a large probability of winning and then end up losing. In the sports community, if at any point a team has a high percentage of winning and then ends up losing a game, that is referred to as a ‘choke.’ For instance, in the context of basketball, if Team A leads Team B by 20 points going into the fourth quarter (12 minutes remaining) and then Team B ends up winning the game, this can likely be classified as a choke by Team A. Given the pace of basketball’s gameflow, matches often result in chokes and we thought that it would be interesting to investigate the data behind to explain these upset endings. For instance, are there teams that are more ‘choke’ prone than others? Do teams tend to have more comebacks when they play at home vs. when they are playing as a visitor? What are the most common reasons for a team to choke? Can we establish a categorical explanation for a choke, what mistakes did a team make for them to lose after such a large lead? Was it due to their fouls, missed shots, turnovers…? How do the individual player stats on a high choke team compare to league averages? Before we dive into the questions that guided our research, we also needed to make some subjective judgements regarding how we defined a choke and selected our data. One of the most crucial of these decisions being to set the maximum win percent threshold to define a subsequent loss as a choke. For the purposes of this analysis, we determined to set this threshold value to be at 90%. Therefore, if at any point in a game, Team A had a 90% chance of winning the game, but the end result was a loss, then we categorized this event to be a choke for Team A. Throughout this entire analysis, we will reference such instances as ‘chokes’. Also, it must be noted that for each instance of a team who ‘choked’, their opponent also experienced a comeback. Given the symmetrical nature of these two occurrences, we will assume that for every time that Team A. choked against Team B, we will also conclude that Team B had a ‘comeback’ against Team A. This project will seek to provide an overview of statistical relationships between a range of variables, all focused around games with improbable endings in basketball, over the last four seasons. "],["data-sources.html", "Chapter 2 Data sources", " Chapter 2 Data sources Githhub: ‘swar/nba_api’ Our central data source for this project came from a Python wrapper for the NBA’s public API. The link to this wrapper and its documentation can be found here. This API is written for Python and as a result a large portion of our data clearing and exporting came from Python scripts and notebooks (which will be discussed in more detail later). This API grants access to a wide variety of baseketball-focused data, however, our project decided to narrow in on a few of its queries. Most importantly, we pulled the play-by-play data which provides a plethora of data at the moment-by-moment level of NBA games. Each row in this dataset corresponds to an event in the game, which falls into 1 of 3 categories. An event can be neutral, such as the beginning and ending of a quarter, or events can favor either of the teams, such as a point scored, a foul committed, turnover etc. In addition to a string description of each event, each row in this dataset also contains each team’s win probability at that moment in time which is already calculated by the NBA. Although we do not have the exact formula for how this crucial statistic is calculated, it is intuitively some function of point differential and time remaining in the game. This statistic is obviously critical for our analysis, since we are specifically looking at the games where a team had &gt;90% win probability at some point in time and then lost the game. We used this data set to initially pull every single game from the last 4 NBA seasons and identify the games where a ‘choke’ occurred. We also used this dataset to pull specific player-related data, in particular, how their performance changed over the course of a game that was classified as a ‘choke’. R Package: nbastatR https://www.rdocumentation.org/packages/nbastatR/versions/0.1.10131 In addition to the Python API to pull play-by-play and time-sensitive player data, we also leveraged the R package nbastatR. We used this dataset to get aggregate seasonal data for specific players. We decided to use this dataset since it allowed us to pull the data directly into R without needing external Python scripts. "],["data-transformation.html", "Chapter 3 Data transformation", " Chapter 3 Data transformation The data extraction and transformation process took substantial efforts throughout the course of this project. In order to identify all of the games where a ‘choke’ occurred over the last 4 NBA seasons, we needed to query over the data frames of 10,000 total games played, and the event-level data of each of these games. In order to identify a ‘choke’, we checked to see if at any point during the if a team had a win probability &gt; 90% and then ended up losing the game. Once we identified such an occurrence, we appended a row to a new dataset, which will hold all of the instances of chokes. Each row of this newly created dataset holds a game_id, the two teams who played, which of the teams was a home team vs. away team and finally which team choked. With this newly created dataset, we are able to identify the number of times each NBA team choked as well as whether they were playing at home or as a visitor. This newly created dataset is now ready to be exported from Python to R and used for analysis. Once we were able to identify the actual games that ended in a choke, we were interested in exploring the game-level data for these chokes. Therefore, for each game that was classified as a choke, we used its game_id (from our first dataset) to make an additional query to the nba_api to get the entire game’s play-by-play data. This data extraction process now gives us the entire game description of each game that ended in a choke over the last 4 NBA seasons. However, we needed to conduct additional transformations on this dataframe to make it more useful for our project. The main task was to convert the event_description strings to a categorical variable. This transformation then allows for us to assign a potential explanatory reason for each choke that occurred. In its original form, the API gives us the description of the play-by-play data in the form of a sentence and we wanted to convert these sentences to a single respective variable, whenever applicable. To provide an example of this transformation, a play-by-play description from the source dataset looked like: “MISS Finney-Smith 26’ 3PT Pullup Jump Shot” and we wanted to classify this row as simply a “miss”. Therefore, we parsed through the dataset’s event description data and classified each event into 1 of 3 categories: miss, foul, turnover. Given that these were the most frequent mistakes that a team will typically make and result in them losing, we looked to identify all of the moments in a game where one of these 3 occurrences took place. Additionally, in our analysis, we thought it would be of interest to examine player-level statistics in games that ended as a choke. Therefore, we leveraged our access to the play-by-play data and parsed over all the event descriptions to split each player’s points into 2 categories: their points scored before the max win threshold and then the points scored after. This max win threshold is a crucial point in the game, since it is after this point where a team with a sizable lead begins to lose steam. This transformation would allow for us to model the difference in distributions of players points during a choke, but split by the turning point in the game. We used the same nba_api play-by-play data’s event descriptions to determine which player is scoring at each moment of the game, whether or not their team ended up as the choke and if this point was scored before or after their max win threshold. While we did require additional data transformations later on in the project, overall, these initial processes took up the majority of our time in getting our data reformatted in such a way to then be exported to R for further analysis. "],["missing-values.html", "Chapter 4 Missing values", " Chapter 4 Missing values "],["results.html", "Chapter 5 Results", " Chapter 5 Results "],["interactive-component.html", "Chapter 6 Interactive component", " Chapter 6 Interactive component "],["conclusion.html", "Chapter 7 Conclusion", " Chapter 7 Conclusion "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
